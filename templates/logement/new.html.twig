{% extends 'base.html.twig' %}

{% block body %}
<div class="d-flex justify-content-center align-items-center" style="height: 100vh; background-color: #f8f9fa;">
    <div class="container" style="width: 100%; max-width: 600px;">
        <div class="form-container" style="height: 80vh; overflow-y: auto; border: 1px solid #ddd; border-radius: 10px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); background-color: white; padding: 20px;">
            <h1 class="text-center">Créer un nouveau logement</h1>

            <!-- Navigation à onglets -->
            <ul class="nav nav-tabs" id="logementTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="details-tab" data-bs-toggle="tab" data-bs-target="#details" type="button" role="tab" aria-controls="details" aria-selected="true">Détails du Logement</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="adresse-tab" data-bs-toggle="tab" data-bs-target="#adresse" type="button" role="tab" aria-controls="adresse" aria-selected="false">Adresse</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="images-tab" data-bs-toggle="tab" data-bs-target="#images" type="button" role="tab" aria-controls="images" aria-selected="false">Images</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="disponibilites-tab" data-bs-toggle="tab" data-bs-target="#disponibilites" type="button" role="tab" aria-controls="disponibilites" aria-selected="false">Disponibilités</button>
                </li>
            </ul>

            <!-- Contenu des onglets -->
            <div class="tab-content" id="logementTabsContent">
                <!-- Onglet Détails du Logement -->
                <div class="tab-pane fade show active" id="details" role="tabpanel" aria-labelledby="details-tab">
                    {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}

                    <div class="form-group">
                        {{ form_label(form.type, 'Type de logement', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.type, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.type, {'attr': {'class': 'text-danger'}}) }}
                    </div>

                    <div class="form-group">
                        {{ form_label(form.nb_voyageur, 'Nombre de voyageurs', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.nb_voyageur, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.nb_voyageur, {'attr': {'class': 'text-danger'}}) }}
                    </div>

                    <div class="form-group">
                        {{ form_label(form.nb_chambre, 'Nombre de chambres', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.nb_chambre, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.nb_chambre, {'attr': {'class': 'text-danger'}}) }}
                    </div>

                    <div class="form-group">
                        {{ form_label(form.nb_salle_de_bain, 'Nombre de salles de bain', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.nb_salle_de_bain, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.nb_salle_de_bain, {'attr': {'class': 'text-danger'}}) }}
                    </div>
                </div>

                <!-- Onglet Adresse -->
                <div class="tab-pane fade" id="adresse" role="tabpanel" aria-labelledby="adresse-tab">
                    <div class="form-group">
                        {{ form_label(form.adresse, 'Adresse', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.adresse, {'attr': {'class': 'form-control'}}) }}
                        {{ form_errors(form.adresse, {'attr': {'class': 'text-danger'}}) }}
                    </div>
                </div>

                <!-- Onglet Images -->
                <div class="tab-pane fade" id="images" role="tabpanel" aria-labelledby="images-tab">
                    <div class="form-group">
                        {{ form_label(form.images, 'Télécharger des images', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.images, {'attr': {'class': 'form-control', 'multiple': 'multiple'}}) }}
                        {{ form_errors(form.images, {'attr': {'class': 'text-danger'}}) }}
                    </div>
                </div>

                <!-- Onglet Disponibilités -->
                <div class="tab-pane fade" id="disponibilites" role="tabpanel" aria-labelledby="disponibilites-tab">
                    <div class="form-group" data-collection-holder>
                        <h2>Disponibilités</h2>
                        {{ form_widget(form.disponibilites, {'attr': {'class': 'form-control'}}) }}
                    </div>

                    <!-- Bouton de soumission -->
                    <div class="text-center mt-4">
                        <button type="submit" class="btn btn-primary w-100">Créer</button>
                    </div>
                </div>
            </div>
            
            {{ form_end(form) }}
        </div>
    </div>
</div>
{% endblock %}

